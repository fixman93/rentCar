{"ast":null,"code":"var _jsxFileName = \"/Users/boriscivcic/Documents/rentCar/src/components/profile/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\nimport { Link } from 'react-router-dom'; // import PaypalExpressBtn from 'react-paypal-express-checkout'\n// import Cards from 'react-credit-cards'\n\nimport { Redirect } from 'react-router-dom';\nimport moment from 'moment';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col'; // import 'react-credit-cards/lib/styles.scss'\n\nimport './index.scss';\n\nclass Profile extends Component {\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      messages: newProps.messages\n    });\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      messages: []\n    };\n  }\n\n  render() {\n    let _this$props = this.props,\n        user = _this$props.user,\n        projects = _this$props.projects,\n        auth = _this$props.auth;\n    let messages = this.state.messages; // const client = {\n    //   sandbox: 'Af69ScQvAHLwi1MTc_djUvSfHTQhw0Q17zPKIIjE-JGfBcu1nKlJnXx0SNBBhILkROVVGUfs5yEXFvcK',\n    //   production: 'ATc2rw7BQ5v2OwapWj7pwjshkwE_RvYlsvHOLl654J2CthZ2EieVOBLMBBSd-peqCZGNYA8cOfdWFuOo',\n    // }\n\n    if (!this.props.auth.uid) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      });\n    }\n\n    let carListt = [];\n\n    if (projects) {\n      const carList = projects;\n      carListt = carList.filter(item => {\n        return item.authhorId === auth.uid;\n      });\n    }\n\n    console.log('sdsa', messages);\n    let myMessages = [];\n\n    if (messages) {\n      myMessages = Object.values(messages).filter(item => {\n        return item.OwnerID === auth.uid;\n      });\n    }\n\n    console.log('MYMESSAGES', myMessages);\n    return React.createElement(\"div\", {\n      className: \"profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Container, {\n      className: \"profile-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Profile\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, user.firstName, \" \", user.lastName), React.createElement(\"div\", {\n      className: \"user-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Tel:\"), \" \", user.phoneNumber), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Email:\"), \" \", auth.email)), React.createElement(\"div\", {\n      className: \"user-messages\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, myMessages ? myMessages.map((message, i) => {\n      return React.createElement(\"li\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"City: \", message.Email), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Phone Number: \", message.phoneNumber), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Car: \", message.carType, \" \", message.carModel), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"FROM - TO:\"), message.date.map((date, i) => {\n        return React.createElement(\"span\", {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, moment(date.toDate()).calendar());\n      })));\n    }) : null)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, carListt.map((project, i) => {\n      return React.createElement(Col, {\n        sm: 4,\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mainBoxItem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: '/project/' + project.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"overflow-hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: project.userImage,\n        alt: \"Car\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, project.carType, \" \", project.carModel)), React.createElement(\"span\", {\n        className: \"car-price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, project.carPrice, \" \", project.Currency)));\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.firebase.auth,\n    user: state.firebase.profile,\n    projects: state.firestore.ordered.project,\n    messages: state.firestore.data.messages\n  };\n};\n\nexport default compose(connect(mapStateToProps), firestoreConnect([{\n  collection: 'users'\n}, {\n  collection: 'messages'\n}, {\n  collection: 'project',\n  orderBy: ['createdAt', 'desc']\n}]))(Profile);","map":{"version":3,"sources":["/Users/boriscivcic/Documents/rentCar/src/components/profile/index.js"],"names":["React","Component","connect","firestoreConnect","compose","Link","Redirect","moment","Container","Row","Col","Profile","componentWillReceiveProps","newProps","setState","messages","constructor","props","state","render","user","projects","auth","uid","carListt","carList","filter","item","authhorId","console","log","myMessages","Object","values","OwnerID","firstName","lastName","phoneNumber","email","map","message","i","Email","carType","carModel","date","toDate","calendar","project","id","userImage","carPrice","Currency","mapStateToProps","firebase","profile","firestore","ordered","data","collection","orderBy"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,gBAAT,QAAiC,sBAAjC;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB,C,CACA;AACA;;AAEA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB,C,CACA;;AACA,OAAO,cAAP;;AACA,MAAMC,OAAN,SAAsBV,SAAtB,CAAgC;AAE9BW,EAAAA,yBAAyB,CAACC,QAAD,EAAW;AAClC,SAAKC,QAAL,CAAc;AACZC,MAAAA,QAAQ,EAAEF,QAAQ,CAACE;AADP,KAAd;AAGD;;AAEDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXH,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGD;;AACDI,EAAAA,MAAM,GAAG;AAAA,sBACwB,KAAKF,KAD7B;AAAA,QACDG,IADC,eACDA,IADC;AAAA,QACKC,QADL,eACKA,QADL;AAAA,QACeC,IADf,eACeA,IADf;AAAA,QAEDP,QAFC,GAEY,KAAKG,KAFjB,CAEDH,QAFC,EAGP;AACA;AACA;AACA;;AACA,QAAI,CAAC,KAAKE,KAAL,CAAWK,IAAX,CAAgBC,GAArB,EAA0B;AACxB,aAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AACD,QAAIC,QAAQ,GAAG,EAAf;;AACA,QAAIH,QAAJ,EAAc;AAEZ,YAAMI,OAAO,GAAGJ,QAAhB;AACAG,MAAAA,QAAQ,GAAGC,OAAO,CAACC,MAAR,CAAgBC,IAAD,IAAU;AAClC,eAAOA,IAAI,CAACC,SAAL,KAAmBN,IAAI,CAACC,GAA/B;AACD,OAFU,CAAX;AAGD;;AACDM,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBf,QAApB;AACA,QAAIgB,UAAU,GAAG,EAAjB;;AACA,QAAIhB,QAAJ,EAAc;AACZgB,MAAAA,UAAU,GAAGC,MAAM,CAACC,MAAP,CAAclB,QAAd,EAAwBW,MAAxB,CAAgCC,IAAD,IAAU;AACpD,eAAOA,IAAI,CAACO,OAAL,KAAiBZ,IAAI,CAACC,GAA7B;AACD,OAFY,CAAb;AAGD;;AACDM,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BC,UAA1B;AACA,WACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,cAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKX,IAAI,CAACe,SAAV,OAAsBf,IAAI,CAACgB,QAA3B,CAHF,EAIE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAH,OAAsBhB,IAAI,CAACiB,WAA3B,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAH,OAAwBf,IAAI,CAACgB,KAA7B,CAFF,CAJF,EAQE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGP,UAAU,GAAGA,UAAU,CAACQ,GAAX,CAAe,CAACC,OAAD,EAAUC,CAAV,KAAgB;AAC3C,aACE;AAAI,QAAA,GAAG,EAAEA,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAUD,OAAO,CAACE,KAAlB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAkBF,OAAO,CAACH,WAA1B,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAASG,OAAO,CAACG,OAAjB,OAA2BH,OAAO,CAACI,QAAnC,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEGJ,OAAO,CAACK,IAAR,CAAaN,GAAb,CAAiB,CAACM,IAAD,EAAOJ,CAAP,KAAa;AAC7B,eACE;AAAM,UAAA,GAAG,EAAEA,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAelC,MAAM,CAACsC,IAAI,CAACC,MAAL,EAAD,CAAN,CAAsBC,QAAtB,EAAf,CADF;AAGD,OAJA,CAFH,CAJF,CADF;AAeD,KAhBa,CAAH,GAgBN,IAjBP,CADF,CARF,EA6BE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGvB,QAAQ,CAACe,GAAT,CAAa,CAACS,OAAD,EAAUP,CAAV,KAAgB;AAC5B,aACE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAY,QAAA,GAAG,EAAEA,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAE,cAAcO,OAAO,CAACC,EAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,GAAG,EAAED,OAAO,CAACE,SAAlB;AAA6B,QAAA,GAAG,EAAC,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKF,OAAO,CAACL,OAAb,OAAuBK,OAAO,CAACJ,QAA/B,CAJF,CADF,EAOE;AAAM,QAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6BI,OAAO,CAACG,QAArC,OAAgDH,OAAO,CAACI,QAAxD,CAPF,CADF,CADF;AAeD,KAhBA,CADH,CA7BF,CADF,CADF;AAgED;;AAxG6B;;AA4GhC,MAAMC,eAAe,GAAInC,KAAD,IAAW;AACjC,SAAO;AACLI,IAAAA,IAAI,EAAEJ,KAAK,CAACoC,QAAN,CAAehC,IADhB;AAELF,IAAAA,IAAI,EAAEF,KAAK,CAACoC,QAAN,CAAeC,OAFhB;AAGLlC,IAAAA,QAAQ,EAAEH,KAAK,CAACsC,SAAN,CAAgBC,OAAhB,CAAwBT,OAH7B;AAILjC,IAAAA,QAAQ,EAAEG,KAAK,CAACsC,SAAN,CAAgBE,IAAhB,CAAqB3C;AAJ1B,GAAP;AAMD,CAPD;;AASA,eAAeX,OAAO,CACpBF,OAAO,CAACmD,eAAD,CADa,EAEpBlD,gBAAgB,CAAC,CACf;AAAEwD,EAAAA,UAAU,EAAE;AAAd,CADe,EAEf;AAAEA,EAAAA,UAAU,EAAE;AAAd,CAFe,EAGf;AAAEA,EAAAA,UAAU,EAAE,SAAd;AAAyBC,EAAAA,OAAO,EAAE,CAAC,WAAD,EAAc,MAAd;AAAlC,CAHe,CAAD,CAFI,CAAP,CAObjD,OAPa,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { firestoreConnect } from 'react-redux-firebase'\nimport { compose } from 'redux'\nimport { Link } from 'react-router-dom'\n// import PaypalExpressBtn from 'react-paypal-express-checkout'\n// import Cards from 'react-credit-cards'\n\nimport { Redirect } from 'react-router-dom'\nimport moment from 'moment'\n\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\n// import 'react-credit-cards/lib/styles.scss'\nimport './index.scss'\nclass Profile extends Component {\n\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      messages: newProps.messages\n    })\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      messages: []\n    }\n  }\n  render() {\n    let { user, projects, auth } = this.props\n    let { messages } = this.state\n    // const client = {\n    //   sandbox: 'Af69ScQvAHLwi1MTc_djUvSfHTQhw0Q17zPKIIjE-JGfBcu1nKlJnXx0SNBBhILkROVVGUfs5yEXFvcK',\n    //   production: 'ATc2rw7BQ5v2OwapWj7pwjshkwE_RvYlsvHOLl654J2CthZ2EieVOBLMBBSd-peqCZGNYA8cOfdWFuOo',\n    // }\n    if (!this.props.auth.uid) {\n      return <Redirect to='/' />\n    }\n    let carListt = []\n    if (projects) {\n\n      const carList = projects\n      carListt = carList.filter((item) => {\n        return item.authhorId === auth.uid\n      })\n    }\n    console.log('sdsa', messages)\n    let myMessages = []\n    if (messages) {\n      myMessages = Object.values(messages).filter((item) => {\n        return item.OwnerID === auth.uid\n      })\n    }\n    console.log('MYMESSAGES', myMessages)\n    return (\n      <div className='profile'>\n        <Container className='profile-page'>\n\n          <h1>Profile</h1>\n          <h2>{user.firstName} {user.lastName}</h2>\n          <div className='user-info'>\n            <p><span>Tel:</span> {user.phoneNumber}</p>\n            <p><span>Email:</span> {auth.email}</p>\n          </div>\n          <div className='user-messages'>\n            <ul>\n              {myMessages ? myMessages.map((message, i) => {\n                return (\n                  <li key={i}>\n                    <p>City: {message.Email}</p>\n                    <p>Phone Number: {message.phoneNumber}</p>\n                    <p>Car: {message.carType} {message.carModel}</p>\n                    <p>\n                      <b>FROM - TO:</b>\n                      {message.date.map((date, i) => {\n                        return (\n                          <span key={i}>{moment(date.toDate()).calendar()}</span>\n                        )\n                      })}\n                    </p>\n                  </li>\n                )\n              }) : null}\n            </ul>\n          </div>\n          <Row>\n            {carListt.map((project, i) => {\n              return (\n                <Col sm={4} key={i}>\n                  <div className='mainBoxItem'>\n                    <Link to={'/project/' + project.id} >\n                      <div className='overflow-hidden'>\n                        <img src={project.userImage} alt='Car' />\n                      </div>\n                      <h3>{project.carType} {project.carModel}</h3>\n                    </Link>\n                    <span className='car-price'>{project.carPrice} {project.Currency}</span>\n                    {/* <em>REVIEW:</em>\n                    <span className='feedback'>{project.feedback}</span> */}\n                  </div>\n                </Col>\n              )\n            })}\n          </Row>\n          {/* <div className='paypal'>\n            <br />\n            <PaypalExpressBtn client={client} currency={'USD'} total={1.00} />\n          </div>\n          <Cards\n            number='378282246310005'\n            name='Boris Civcic'\n            expiry='11/22'\n            cvc='622'\n          focused={state.focused}\n          /> */}\n        </Container>\n      </div>\n    )\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    user: state.firebase.profile,\n    projects: state.firestore.ordered.project,\n    messages: state.firestore.data.messages\n  }\n}\n\nexport default compose(\n  connect(mapStateToProps),\n  firestoreConnect([\n    { collection: 'users' },\n    { collection: 'messages' },\n    { collection: 'project', orderBy: ['createdAt', 'desc'] }\n  ])\n)(Profile)"]},"metadata":{},"sourceType":"module"}
{"version":3,"sources":["../../source/utility/dom.js"],"names":["submitFormOnCtrlEnter","submitContainingForm","isInternetExplorer","isElement","getOffset","event","component","ctrlKey","metaKey","keyCode","preventDefault","node","parentElement","HTMLFormElement","submit","querySelector","click","window","navigator","userAgent","indexOf","element","Element","HTMLDocument","onScreenCoordinates","getBoundingClientRect","documentLeftBorderWidth","document","clientLeft","body","documentTopBorderWidth","clientTop","scrollY","pageYOffset","scrollX","pageXOffset","top","left","width","height"],"mappings":";;;;;QACgBA,qB,GAAAA,qB;QAYAC,oB,GAAAA,oB;QAgCAC,kB,GAAAA,kB;QAOAC,S,GAAAA,S;QASAC,S,GAAAA,S;AA7DhB;AACO,SAASJ,qBAAT,CAA+BK,KAA/B,EAAsCC,SAAtC,EACP;AACC,KAAI,CAACD,MAAME,OAAN,IAAiBF,MAAMG,OAAxB,KAAoCH,MAAMI,OAAN,KAAkB,EAA1D,EACA;AACC,MAAIR,qBAAqBK,SAArB,CAAJ,EACA;AACCD,SAAMK,cAAN;AACA,UAAO,IAAP;AACA;AACD;AACD;;AAEM,SAAST,oBAAT,CAA8BU,IAA9B,EACP;AACC,QAAOA,KAAKC,aAAZ,EACA;AACCD,SAAOA,KAAKC,aAAZ;AACA,MAAID,gBAAgBE,eAApB,EACA;AACC;AACA;AACA,OAAMC,SAASH,KAAKI,aAAL,CAAmB,qBAAnB,CAAf;AACA,OAAID,MAAJ,EACA;AACCA,WAAOE,KAAP;AACA,WAAO,IAAP;AACA;AACD;AACD;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACO,SAASd,kBAAT,GACP;AACC,QAAOe,OAAOC,SAAP,CAAiBC,SAAjB,CAA2BC,OAA3B,CAAmC,OAAnC,IAA8C,CAA9C,IACNH,OAAOC,SAAP,CAAiBC,SAAjB,CAA2BC,OAA3B,CAAmC,UAAnC,IAAiD,CADlD;AAEA;;AAED;AACO,SAASjB,SAAT,CAAmBkB,OAAnB,EAA4B;AAClC,QAAOA,mBAAmBC,OAAnB,IAA8BD,mBAAmBE,YAAxD;AACA;;AAED;;;;;AAKO,SAASnB,SAAT,CAAmBiB,OAAnB,EAA4B;AAClC;AACA;;AAEA,KAAMG,sBAAsBH,QAAQI,qBAAR,EAA5B;;AAEA,KAAMC,0BAA0BC,SAASC,UAAT,IAAuBD,SAASE,IAAT,CAAcD,UAArC,IAAmD,CAAnF;AACA,KAAME,yBAA0BH,SAASI,SAAT,IAAsBJ,SAASE,IAAT,CAAcE,SAApC,IAAiD,CAAjF;;AAEA;AACA,KAAMC,UAAUf,OAAOgB,WAAvB;AACA,KAAMC,UAAUjB,OAAOkB,WAAvB;;AAEA,KAAMC,MAAOZ,oBAAoBY,GAApB,GAA0BJ,OAA1B,GAAoCF,sBAAjD;AACA,KAAMO,OAAOb,oBAAoBa,IAApB,GAA2BH,OAA3B,GAAqCR,uBAAlD;;AAEA,QAAO;AACNU,UADM;AAENC,YAFM;AAGNC,SAAOd,oBAAoBc,KAHrB;AAINC,UAAQf,oBAAoBe;AAJtB,EAAP;AAMA","file":"dom.js","sourcesContent":["// Submits the form on `Ctrl` + `Enter` (or `Cmd` + `Enter`).\r\nexport function submitFormOnCtrlEnter(event, component)\r\n{\r\n\tif ((event.ctrlKey || event.metaKey) && event.keyCode === 13)\r\n\t{\r\n\t\tif (submitContainingForm(component))\r\n\t\t{\r\n\t\t\tevent.preventDefault()\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function submitContainingForm(node)\r\n{\r\n\twhile (node.parentElement)\r\n\t{\r\n\t\tnode = node.parentElement\r\n\t\tif (node instanceof HTMLFormElement)\r\n\t\t{\r\n\t\t\t// Won't use `node.submit()` because it bypasses `onSubmit`.\r\n\t\t\t// Will click the submit button instead.\r\n\t\t\tconst submit = node.querySelector('button[type=submit]')\r\n\t\t\tif (submit)\r\n\t\t\t{\r\n\t\t\t\tsubmit.click()\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// export function getScrollbarWidth()\r\n// {\r\n// \t// // `window.innerWidth` has a bug:\r\n// \t// // it's decreases as the page scale is increased.\r\n// \t// // Therefore not using it.\r\n// \t// // (Full width) - (Width minus scrollbar)\r\n// \t// return document.body.clientWidth - window.innerWidth\r\n//\r\n// \treturn 17\r\n// }\r\n\r\n// Detects Internet Explorer.\r\n// https://stackoverflow.com/questions/19999388/check-if-user-is-using-ie-with-jquery\r\nexport function isInternetExplorer()\r\n{\r\n\treturn window.navigator.userAgent.indexOf('MSIE ') > 0 ||\r\n\t\twindow.navigator.userAgent.indexOf('Trident/') > 0\r\n}\r\n\r\n// https://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\r\nexport function isElement(element) {\r\n\treturn element instanceof Element || element instanceof HTMLDocument\r\n}\r\n\r\n/**\r\n * Returns the DOM element's `top` and `left` offset relative to the document.\r\n * @param  {object} element\r\n * @return {object} `{ top: number, left: number, width: number, height: number }`\r\n */\r\nexport function getOffset(element) {\r\n\t// Copied from:\r\n\t// http://stackoverflow.com/questions/5598743/finding-elements-position-relative-to-the-document\r\n\r\n\tconst onScreenCoordinates = element.getBoundingClientRect()\r\n\r\n\tconst documentLeftBorderWidth = document.clientLeft || document.body.clientLeft || 0\r\n\tconst documentTopBorderWidth  = document.clientTop || document.body.clientTop || 0\r\n\r\n\t// `window.scrollY` and `window.scrollX` aren't supported in Internet Explorer.\r\n\tconst scrollY = window.pageYOffset\r\n\tconst scrollX = window.pageXOffset\r\n\r\n\tconst top  = onScreenCoordinates.top + scrollY - documentTopBorderWidth\r\n\tconst left = onScreenCoordinates.left + scrollX - documentLeftBorderWidth\r\n\r\n\treturn {\r\n\t\ttop,\r\n\t\tleft,\r\n\t\twidth: onScreenCoordinates.width,\r\n\t\theight: onScreenCoordinates.height\r\n\t}\r\n}"]}
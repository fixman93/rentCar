{"version":3,"sources":["../source/Select.js"],"names":["PureComponent","Component","empty_value_option_value","Select","state","focus","select","focusToggler","selectButton","onCollapse","focusOut","setState","isExpanded","isUsingKeyboard","onExpand","expand","list","collapse","toggle","storeListRef","ref","storeSelectNode","node","storeSelectButton","storeInputComponentNode","inputComponentNode","storeContainerNode","container","getSelectButton","nativeSelectOnKeyDown","event","shouldShowOptionsList","onKeyDownFromNativeSelect","onKeyDown","nativeSelectOnMouseDown","preventDefault","nativeSelectOnChange","props","native","nativeExpanded","value","target","undefined","setValue","navigator","userAgent","toLowerCase","indexOf","onClick","disabled","required","fromNativeSelect","defaultPrevented","ctrlKey","altKey","shiftKey","metaKey","keyCode","isEmptyValue","newValue","onChange","onBlur","clearTimeout","blurTimer","onFocusOut","window","rruiCollapseOnFocusOut","_onFocusOut","onFocusIn","isFocused","upward","icon","compact","scroll","scrollMaxItems","scrollIntoView","alignment","saveOnIcons","placeholder","options","indicateInvalid","error","closeButtonIcon","closeLabel","wait","style","className","containerStyle","textAlign","label","getLabel","renderNativeSelect","renderSelectButton","getAriaLabel","map","option","i","divider","content","title","toggleClassName","selected","getSelectedOption","selectedOptionLabel","getPlaceholder","showIconOnly","hasEmptyOption","createElement","name","tabIndex","renderNativeSelectOptions","empty_option_present","rendered_options","renderNativeSelectOption","unshift","nonSelectable","isDivider","getOptionKey","ariaLabel","propTypes","arrayOf","shape","any","string","oneOfType","func","isRequired","bool","object","number","defaultProps"],"mappings":"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","file":"Select.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { polyfill as reactLifecyclesCompat } from 'react-lifecycles-compat'\r\nimport classNames from 'classnames'\r\n\r\nimport ExpandableList from './ExpandableList'\r\nimport List from './List'\r\nimport Label from './TextInputLabel'\r\nimport Ellipsis from './Ellipsis'\r\nimport Divider from './Divider'\r\nimport WithError from './WithError'\r\n\r\nimport { onBlurForReduxForm } from './utility/redux-form'\r\nimport { onBlur } from './utility/focus'\r\nimport { submitFormOnCtrlEnter, submitContainingForm } from './utility/dom'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nconst empty_value_option_value = ''\r\n\r\n@reactLifecyclesCompat\r\nexport default class Select extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// A list of selectable options\r\n\t\toptions : PropTypes.arrayOf\r\n\t\t(\r\n\t\t\tPropTypes.shape\r\n\t\t\t({\r\n\t\t\t\t// Option value (may be `undefined`)\r\n\t\t\t\tvalue : PropTypes.any,\r\n\t\t\t\t// Option label (may be `undefined`)\r\n\t\t\t\tlabel : PropTypes.string,\r\n\t\t\t\t// Option icon\r\n\t\t\t\ticon  : PropTypes.oneOfType\r\n\t\t\t\t([\r\n\t\t\t\t\tPropTypes.node,\r\n\t\t\t\t\tPropTypes.func\r\n\t\t\t\t]),\r\n\t\t\t\t// Render custom content (a React component).\r\n\t\t\t\t// Receives `{ value, label }` properties.\r\n\t\t\t\tcontent : PropTypes.func\r\n\t\t\t})\r\n\t\t)\r\n\t\t.isRequired,\r\n\r\n\t\t// HTML form input `name` attribute\r\n\t\tname       : PropTypes.string,\r\n\r\n\t\t// Label which is placed above the select\r\n\t\tlabel      : PropTypes.string,\r\n\r\n\t\t// Placeholder (like \"Choose\")\r\n\t\tplaceholder : PropTypes.string,\r\n\r\n\t\t// Whether to use native `<select/>`\r\n\t\tnative      : PropTypes.bool.isRequired,\r\n\r\n\t\t// Whether to use native `<select/>` when expanded\r\n\t\tnativeExpanded : PropTypes.bool.isRequired,\r\n\r\n\t\t// Show icon only for selected item,\r\n\t\t// and only if `icon` is `true`.\r\n\t\tsaveOnIcons : PropTypes.bool.isRequired,\r\n\r\n\t\t// Disables this control\r\n\t\tdisabled   : PropTypes.bool,\r\n\r\n\t\t// Set to `true` to mark the field as required\r\n\t\trequired   : PropTypes.bool.isRequired,\r\n\r\n\t\t// Set to `true` to display the loading indicator\r\n\t\twait       : PropTypes.bool.isRequired,\r\n\r\n\t\t// Selected option value\r\n\t\tvalue      : PropTypes.any,\r\n\r\n\t\t// Is called when an option is selected\r\n\t\tonChange   : PropTypes.func,\r\n\r\n\t\t// Is called when the select is blurred.\r\n\t\t// This `onBlur` interceptor is a workaround for `redux-form`,\r\n\t\t// so that it gets the parsed `value` in its `onBlur` handler,\r\n\t\t// not the formatted text.\r\n\t\tonBlur     : PropTypes.func,\r\n\r\n\t\t// If `scroll` is `false`, then options list\r\n\t\t// is not limited in height.\r\n\t\t// Is `true` by default (scrollable).\r\n\t\tscroll     : PropTypes.bool.isRequired,\r\n\r\n\t\t// Component CSS class\r\n\t\tclassName  : PropTypes.string,\r\n\r\n\t\t// `<button/>` toggler CSS class\r\n\t\ttoggleClassName : PropTypes.string,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle      : PropTypes.object,\r\n\r\n\t\t// If this flag is set to `true`,\r\n\t\t// and `icon` is specified for a selected option,\r\n\t\t// then the selected option will be displayed\r\n\t\t// as icon only, without the label.\r\n\t\ticon       : PropTypes.bool,\r\n\r\n\t\t// If this flag is set to `true`,\r\n\t\t// then it makes `<Select/>` not stretch itself\r\n\t\t// to 100% width by making it `inline-block`.\r\n\t\t// Is set to `true` when `icon` is `true`\r\n\t\t// because it makes sense.\r\n\t\tcompact    : PropTypes.bool,\r\n\r\n\t\t// HTML `tabindex` attribute\r\n\t\ttabIndex   : PropTypes.number,\r\n\r\n\t\t// `aria-label` for the `<Select/>`'s `<button/>`.\r\n\t\t// Deprecated, use `aria-label` instead.\r\n\t\tariaLabel : PropTypes.string\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tnative : false,\r\n\t\tnativeExpanded : false,\r\n\r\n\t\tsaveOnIcons : false,\r\n\r\n\t\t// Set to `true` to mark the field as required\r\n\t\trequired : false,\r\n\r\n\t\t// Show `error` (if passed).\r\n\t\tindicateInvalid : true,\r\n\r\n\t\t// Set to `true` to display the loading indicator\r\n\t\twait : false,\r\n\r\n\t\t// Will show scrollbar on overflow.\r\n\t\tscroll : true,\r\n\r\n\t\talignment : 'left'\r\n\t}\r\n\r\n\tstate = {}\r\n\r\n\tfocus = () => this.select.focus()\r\n\r\n\t// On mobile devices the <button/> is focused instead of <select/>\r\n\t// because when <select/> is focused then native mobile <select/> is expanded.\r\n\tfocusToggler = () => this.selectButton.focus()\r\n\r\n\tonCollapse = ({ focusOut }) =>\r\n\t{\r\n\t\tthis.setState({ isExpanded: false })\r\n\r\n\t\tif (!focusOut) {\r\n\t\t\tif (this.isUsingKeyboard) {\r\n\t\t\t\tthis.focus()\r\n\t\t\t} else {\r\n\t\t\t\tthis.focusToggler()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonExpand = () => this.setState({ isExpanded: true })\r\n\r\n\texpand     = () => this.list.expand()\r\n\tcollapse   = () => this.list.collapse()\r\n\ttoggle     = () => this.list.toggle()\r\n\r\n\tstoreListRef = (ref) => this.list = ref\r\n\tstoreSelectNode = (node) => this.select = node\r\n\tstoreSelectButton = (node) => this.selectButton = node\r\n\tstoreInputComponentNode = (node) => this.inputComponentNode = node\r\n\tstoreContainerNode = (node) => this.container = node\r\n\r\n\tgetSelectButton = () => this.selectButton\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tclearTimeout(this.blurTimer)\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tupward,\r\n\t\t\ticon,\r\n\t\t\tcompact,\r\n\t\t\tscroll,\r\n\t\t\tscrollMaxItems,\r\n\t\t\tscrollIntoView,\r\n\t\t\talignment,\r\n\t\t\tsaveOnIcons,\r\n\t\t\tnative,\r\n\t\t\tdisabled,\r\n\t\t\trequired,\r\n\t\t\tplaceholder,\r\n\t\t\toptions,\r\n\t\t\tvalue,\r\n\t\t\tonChange,\r\n\t\t\tindicateInvalid,\r\n\t\t\terror,\r\n\t\t\tcloseButtonIcon,\r\n\t\t\tcloseLabel,\r\n\t\t\twait,\r\n\t\t\tstyle,\r\n\t\t\tclassName\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst {\r\n\t\t\tisExpanded,\r\n\t\t\tisFocused\r\n\t\t} = this.state\r\n\r\n\t\tconst containerStyle = { textAlign: alignment }\r\n\r\n\t\tconst label = this.getLabel()\r\n\r\n\t\treturn (\r\n\t\t\t<WithError\r\n\t\t\t\tsetRef={this.storeContainerNode}\r\n\t\t\t\terror={error}\r\n\t\t\t\tindicateInvalid={indicateInvalid}\r\n\t\t\t\tstyle={style ? { ...containerStyle, ...style } : containerStyle}\r\n\t\t\t\tclassName={classNames(className, 'rrui__select', {\r\n\t\t\t\t\t'rrui__select--compact' : compact || icon,\r\n\t\t\t\t\t'rrui__select--focus'   : isFocused\r\n\t\t\t\t})}>\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={ this.storeInputComponentNode }\r\n\t\t\t\t\tclassName=\"rrui__input\">\r\n\r\n\t\t\t\t\t{ wait && <Ellipsis/> }\r\n\r\n\t\t\t\t\t{/* Could use a wrapping `<label/>` here\r\n\t\t\t\t\t    but except the native `<select/>` there's\r\n\t\t\t\t\t    also a `<button/>` so they can't both\r\n\t\t\t\t\t    be wrapped in a `<label/>`.\r\n\t\t\t\t\t    In some future major version, when `--focus`\r\n\t\t\t\t\t    classes are added, the `<button/>` can be\r\n\t\t\t\t\t    moved out of the wrapping `<label/>`. */}\r\n\t\t\t\t\t{/* https://www.w3.org/TR/html50/forms.html#category-label */}\r\n\r\n\t\t\t\t\t{/* A transparent native `<select/>` on top\r\n\t\t\t\t\t    in case of `nativeExpanded={true}`.\r\n\t\t\t\t\t    (for better UX on mobile devices).\r\n\t\t\t\t\t    In case of `nativeExpanded={false}`\r\n\t\t\t\t\t    the native `<select/>` can be used for\r\n\t\t\t\t\t    javascriptless `<form/>` submission.\r\n\t\t\t\t\t    In case of `native={true}` it's just a\r\n\t\t\t\t\t    native `<select/>`. */}\r\n\t\t\t\t\t{ this.renderNativeSelect() }\r\n\r\n\t\t\t\t\t{/* The currently selected option */}\r\n\t\t\t\t\t{ !native && this.renderSelectButton() }\r\n\r\n\t\t\t\t\t{/* Label */}\r\n\t\t\t\t\t{/* (this label is placed after the \"selected\" button\r\n\t\t\t\t\t     to utilize the CSS `+` selector) */}\r\n\t\t\t\t\t{/* If the `placeholder` wasn't specified\r\n\t\t\t\t\t    but `label` was and no option is currently selected\r\n\t\t\t\t\t    then the `label` becomes the `placeholder`\r\n\t\t\t\t\t    until something is selected */}\r\n\t\t\t\t\t{ label &&\r\n\t\t\t\t\t\t<Label\r\n\t\t\t\t\t\t\taria-hidden\r\n\t\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\t\trequired={ required }\r\n\t\t\t\t\t\t\tinvalid={ indicateInvalid && error }\r\n\t\t\t\t\t\t\tfloats={ false }>\r\n\t\t\t\t\t\t\t{ label }\r\n\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{/* The list of selectable options */}\r\n\t\t\t\t\t{ this.shouldShowOptionsList() &&\r\n\t\t\t\t\t\t<ExpandableList\r\n\t\t\t\t\t\t\tref={this.storeListRef}\r\n\t\t\t\t\t\t\taria-label={this.getAriaLabel()}\r\n\t\t\t\t\t\t\taria-required={required && isEmptyValue(value) ? true : undefined}\r\n\t\t\t\t\t\t\taria-invalid={error && indicateInvalid ? true : undefined}\r\n\t\t\t\t\t\t\tupward={upward}\r\n\t\t\t\t\t\t\talignment={alignment}\r\n\t\t\t\t\t\t\tscrollIntoView={scrollIntoView}\r\n\t\t\t\t\t\t\tscrollMaxItems={scroll === false ? 0 : scrollMaxItems}\r\n\t\t\t\t\t\t\ttabbable={false}\r\n\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\tonChange={this.setValue}\r\n\t\t\t\t\t\t\tonCollapse={this.onCollapse}\r\n\t\t\t\t\t\t\tonExpand={this.onExpand}\r\n\t\t\t\t\t\t\tgetTogglerNode={this.getSelectButton}\r\n\t\t\t\t\t\t\tonFocusIn={this.onFocusIn}\r\n\t\t\t\t\t\t\tonFocusOut={this.onFocusOut}\r\n\t\t\t\t\t\t\tcloseButtonIcon={closeButtonIcon}\r\n\t\t\t\t\t\t\tcloseLabel={closeLabel}\r\n\t\t\t\t\t\t\tclassName={classNames('rrui__shadow', 'rrui__options-list',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'rrui__options-list--left-aligned'  : alignment === 'left',\r\n\t\t\t\t\t\t\t\t'rrui__options-list--right-aligned' : alignment === 'right'\r\n\t\t\t\t\t\t\t})}>\r\n\r\n\t\t\t\t\t\t\t{options.map((option, i) => (\r\n\t\t\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\ticon={option.divider || saveOnIcons ? undefined : option.icon}>\r\n\t\t\t\t\t\t\t\t\t{option.divider ? <Divider/> : (option.content ? option.content(option) : option.label)}\r\n\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ExpandableList>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</WithError>\r\n\t\t)\r\n\t}\r\n\r\n\trenderSelectButton()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\twait,\r\n\t\t\tvalue,\r\n\t\t\tdisabled,\r\n\t\t\trequired,\r\n\t\t\ticon,\r\n\t\t\ttitle,\r\n\t\t\tnative,\r\n\t\t\tnativeExpanded,\r\n\t\t\ttoggleClassName,\r\n\t\t\tindicateInvalid,\r\n\t\t\terror\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst { isExpanded } = this.state\r\n\r\n\t\tconst selected = this.getSelectedOption()\r\n\r\n\t\tconst selectedOptionLabel = selected && selected.label || this.getPlaceholder()\r\n\t\tconst showIconOnly = icon && selected && selected.icon\r\n\r\n\t\t// ARIA (accessibility) roles info:\r\n\t\t// https://www.w3.org/TR/wai-aria-practices/examples/listbox/listbox-collapsible.html\r\n\t\t//\r\n\t\t// `aria-haspopup`:\r\n\t\t// https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup\r\n\t\t// WAI-ARIA 1.1 is not yet supported, so not using `aria-haspopup=\"listbox\"`.\r\n\r\n\t\t// This button could be focusable in case of !native && !nativeExpanded.\r\n\t\t// In case of nativeExpanded if this button was focusable then the user would\r\n\t\t// tab to the button and press Spacebar key and there would be no way to\r\n\t\t// expand the native select so the keyboard user would be stuck.\r\n\t\t// Because of this, this button is never tabbable and native select always is.\r\n\r\n\t\treturn (\r\n\t\t\t<button\r\n\t\t\t\tref={ this.storeSelectButton }\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tdisabled={ disabled }\r\n\t\t\t\tonClick={ this.onClick }\r\n\t\t\t\tonKeyDown={ this.onKeyDown }\r\n\t\t\t\tonFocus={ this.onFocusIn }\r\n\t\t\t\tonBlur={ this.onBlur }\r\n\t\t\t\ttabIndex={ -1 }\r\n\t\t\t\ttitle={ title }\r\n\t\t\t\taria-label={ this.getAriaLabel() || (showIconOnly ? selectedOptionLabel : undefined) }\r\n\t\t\t\taria-expanded={ isExpanded ? true : false }\r\n\t\t\t\tclassName={ classNames\r\n\t\t\t\t(\r\n\t\t\t\t\t'rrui__input-element',\r\n\t\t\t\t\t'rrui__button-reset',\r\n\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t'rrui__select__button',\r\n\t\t\t\t\ttoggleClassName,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'rrui__select__button--empty'    : isEmptyValue(value) && !this.hasEmptyOption(),\r\n\t\t\t\t\t\t'rrui__select__button--invalid'  : indicateInvalid && error,\r\n\t\t\t\t\t\t'rrui__select__button--disabled' : disabled\r\n\t\t\t\t\t}\r\n\t\t\t\t) }>\r\n\r\n\t\t\t\t{/* http://stackoverflow.com/questions/35464067/flexbox-not-working-on-button-element-in-some-browsers */}\r\n\t\t\t\t<span className=\"rrui__select__selected-content\">\r\n\r\n\t\t\t\t\t{/* Selected option label (or icon) */}\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={ classNames('rrui__select__selected-label',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'rrui__select__selected-label--required' : !this.getLabel() && required && isEmptyValue(value)\r\n\t\t\t\t\t\t}) }>\r\n\t\t\t\t\t\t{ showIconOnly ? React.createElement(selected.icon, { value, label: selectedOptionLabel }) : selectedOptionLabel }\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t{/* An arrow */}\r\n\t\t\t\t\t{ !wait && <span className=\"rrui__select__arrow\"/> }\r\n\t\t\t\t</span>\r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n\r\n\trenderNativeSelect()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tname,\r\n\t\t\tvalue,\r\n\t\t\tlabel,\r\n\t\t\tdisabled,\r\n\t\t\trequired,\r\n\t\t\tnative,\r\n\t\t\tnativeExpanded,\r\n\t\t\terror,\r\n\t\t\tindicateInvalid,\r\n\t\t\ttabIndex\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\treturn (\r\n\t\t\t<select\r\n\t\t\t\tref={ this.storeSelectNode }\r\n\t\t\t\tname={ name }\r\n\t\t\t\tvalue={ isEmptyValue(value) ? empty_value_option_value : value }\r\n\t\t\t\tdisabled={ disabled }\r\n\t\t\t\tonKeyDown={ this.nativeSelectOnKeyDown }\r\n\t\t\t\tonMouseDown={ this.nativeSelectOnMouseDown }\r\n\t\t\t\tonChange={ this.nativeSelectOnChange }\r\n\t\t\t\tonFocus={ this.onFocusIn }\r\n\t\t\t\tonBlur={ this.onBlur }\r\n\t\t\t\ttabIndex={ tabIndex }\r\n\t\t\t\taria-label={ this.getAriaLabel() }\r\n\t\t\t\taria-required={ required && isEmptyValue(value) ? true : undefined }\r\n\t\t\t\taria-invalid={ error && indicateInvalid ? true : undefined }\r\n\t\t\t\tclassName={ classNames(\r\n\t\t\t\t\t// `:focus` style is implemented via border color\r\n\t\t\t\t\t// so outline can be muted safely here.\r\n\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t'rrui__select__native', {\r\n\t\t\t\t\t\t'rrui__select__native--overlay' : !native,\r\n\t\t\t\t\t\t'rrui__select__native--invalid' : indicateInvalid && error\r\n\t\t\t\t\t}\r\n\t\t\t\t) }>\r\n\t\t\t\t{this.renderNativeSelectOptions()}\r\n\t\t\t</select>\r\n\t\t)\r\n\t}\r\n\r\n\trenderNativeSelectOptions()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\toptions,\r\n\t\t\tvalue,\r\n\t\t\tplaceholder\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tlet empty_option_present = false\r\n\r\n\t\tconst rendered_options = options.map((option) =>\r\n\t\t{\r\n\t\t\tlet { value, label, divider } = option\r\n\r\n\t\t\tif (!divider && isEmptyValue(value))\r\n\t\t\t{\r\n\t\t\t\tempty_option_present = true\r\n\t\t\t\tvalue = empty_value_option_value\r\n\t\t\t}\r\n\r\n\t\t\treturn this.renderNativeSelectOption(value, label, divider === true, divider)\r\n\t\t})\r\n\r\n\t\tif (isEmptyValue(value) && !empty_option_present)\r\n\t\t{\r\n\t\t\trendered_options.unshift(this.renderNativeSelectOption(undefined, placeholder, true))\r\n\t\t}\r\n\r\n\t\treturn rendered_options\r\n\t}\r\n\r\n\trenderNativeSelectOption(value, label, nonSelectable, isDivider)\r\n\t{\r\n\t\treturn (\r\n\t\t\t<option\r\n\t\t\t\tkey={ getOptionKey(value) }\r\n\t\t\t\tvalue={ isEmptyValue(value) ? '' : value }\r\n\t\t\t\thidden={ nonSelectable && !isDivider ? true : undefined }\r\n\t\t\t\tdisabled={ nonSelectable ? true : undefined }\r\n\t\t\t\tclassName={ classNames('rrui__select__native-option', {\r\n\t\t\t\t\t'rrui__select__native-option--divider': isDivider\r\n\t\t\t\t})}>\r\n\t\t\t\t{ label }\r\n\t\t\t</option>\r\n\t\t)\r\n\t}\r\n\r\n\tnativeSelectOnKeyDown = (event) =>\r\n\t{\r\n\t\tthis.isUsingKeyboard = true\r\n\r\n\t\tif (this.shouldShowOptionsList())\r\n\t\t{\r\n\t\t\t// Native select is the main focusable element now\r\n\t\t\t// even when the custom select is rendered.\r\n\t\t\t// this.focusToggler()\r\n\t\t\tthis.onKeyDownFromNativeSelect = true\r\n\t\t\tthis.onKeyDown(event)\r\n\t\t}\r\n\t}\r\n\r\n\tnativeSelectOnMouseDown = (event) =>\r\n\t{\r\n\t\tif (this.shouldShowOptionsList())\r\n\t\t{\r\n\t\t\tevent.preventDefault()\r\n\t\t\t// Native select is the main focusable element now\r\n\t\t\t// even when the custom select is rendered.\r\n\t\t\t// this.focusToggler()\r\n\t\t\tthis.toggle()\r\n\t\t}\r\n\t}\r\n\r\n\tnativeSelectOnChange = (event) =>\r\n\t{\r\n\t\tconst { native, nativeExpanded } = this.props\r\n\r\n\t\tlet value = event.target.value\r\n\r\n\t\t// Convert back from an empty string to `undefined`\r\n\t\tif (value === empty_value_option_value)\r\n\t\t{\r\n\t\t\t// `null` is not accounted for, use `undefined` instead.\r\n\t\t\tvalue = undefined\r\n\t\t}\r\n\r\n\t\tthis.setValue(value)\r\n\r\n\t\t// Firefox has a bug:\r\n\t\t// Spacebar key on native `<select/>` is not being \"preventDefault\"ed.\r\n\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1428992\r\n\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1019630\r\n\t\t// https://stackoverflow.com/questions/15141398/cannot-preventdefault-via-firefox-on-a-select\r\n\t\t// This workaround hides the custom `<Select/>`\r\n\t\t// when a user selects something in the native `<select/>`\r\n\t\t// which expands over the custom one in Firefox due to the bug.\r\n\t\tif (navigator.userAgent.toLowerCase().indexOf('firefox') >= 0) {\r\n\t\t\tif (!native && !nativeExpanded) {\r\n\t\t\t\tthis.collapse()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonClick = (event) =>\r\n\t{\r\n\t\tconst { disabled, nativeExpanded } = this.props\r\n\r\n\t\tif (!disabled) {\r\n\t\t\tthis.toggle()\r\n\t\t}\r\n\t}\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { disabled, value, required } = this.props\r\n\t\tconst { isExpanded } = this.state\r\n\r\n\t\t// Reset \"event came from native select\" flag.\r\n\t\tconst fromNativeSelect = this.onKeyDownFromNativeSelect\r\n\t\tthis.onKeyDownFromNativeSelect = false\r\n\r\n\t\tif (disabled) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (!isExpanded) {\r\n\t\t\tif (submitFormOnCtrlEnter(event, this.selectButton)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tswitch (event.keyCode)\r\n\t\t{\r\n\t\t\t// \"Up\" arrow.\r\n\t\t\t// Select the previous item (if present).\r\n\t\t\tcase 38:\r\n\t\t\t// \"Down\" arrow.\r\n\t\t\t// Select the next item (if present).\r\n\t\t\tcase 40:\r\n\t\t\t\t// Firefox has a bug:\r\n\t\t\t\t// Up/Down arrow keys on native `<select/>` are not being \"preventDefault\"ed.\r\n\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1428992\r\n\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1019630\r\n\t\t\t\t// https://stackoverflow.com/questions/15141398/cannot-preventdefault-via-firefox-on-a-select\r\n\t\t\t\t// This workaround doesn't expand the custom `<Select/>`\r\n\t\t\t\t// when a user presses an Up/Down arrow key on the native `<select/>`.\r\n\t\t\t\tif (navigator.userAgent.toLowerCase().indexOf('firefox') >= 0) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturn this.list.onKeyDown(event)\r\n\r\n\t\t\t// \"Enter\".\r\n\t\t\tcase 13:\r\n\t\t\t\t// Submit containing `<form/>`.\r\n\t\t\t\t// Expand otherwise.\r\n\t\t\t\tif ((required && isEmptyValue(value)) || !submitContainingForm(this.selectButton)) {\r\n\t\t\t\t\tthis.expand()\r\n\t\t\t\t}\r\n\t\t\t\treturn event.preventDefault()\r\n\r\n\t\t\t// \"Spacebar\".\r\n\t\t\tcase 32:\r\n\t\t\t\tif (fromNativeSelect)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Firefox has a bug:\r\n\t\t\t\t\t// Spacebar key on native `<select/>` is not being \"preventDefault\"ed.\r\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1428992\r\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1019630\r\n\t\t\t\t\t// https://stackoverflow.com/questions/15141398/cannot-preventdefault-via-firefox-on-a-select\r\n\t\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\t\tthis.expand()\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\thasEmptyOption()\r\n\t{\r\n\t\tconst { options } = this.props\r\n\r\n\t\tfor (const option of options) {\r\n\t\t\tif (!option.divider && isEmptyValue(option.value)) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false\r\n\t}\r\n\r\n\tgetSelectedOption()\r\n\t{\r\n\t\tconst { options, value } = this.props\r\n\r\n\t\tfor (const option of options)\r\n\t\t{\r\n\t\t\tif (!option.divider && option.value === value)\r\n\t\t\t{\r\n\t\t\t\treturn option\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetAriaLabel()\r\n\t{\r\n\t\tconst {\r\n\t\t\t// Deprecated, use `aria-label` instead.\r\n\t\t\tariaLabel,\r\n\t\t\tlabel\r\n\t\t} = this.props\r\n\r\n\t\treturn this.props['aria-label'] || ariaLabel || label\r\n\t}\r\n\r\n\tgetLabel()\r\n\t{\r\n\t\tconst { label, placeholder, value } = this.props\r\n\r\n\t\tif (isEmptyValue(value) && !placeholder) {\r\n\t\t\t// Label will be shown in placeholder's place\r\n\t\t\t// so don't show it as a label to prevent duplication.\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\treturn label\r\n\t}\r\n\r\n\tgetPlaceholder()\r\n\t{\r\n\t\tconst { label, placeholder, value } = this.props\r\n\r\n\t\tif (isEmptyValue(value)) {\r\n\t\t\treturn placeholder || label\r\n\t\t}\r\n\t}\r\n\r\n\tshouldShowOptionsList()\r\n\t{\r\n\t\tconst { native, nativeExpanded } = this.props\r\n\t\treturn !native && !nativeExpanded\r\n\t}\r\n\r\n\tsetValue = (newValue) =>\r\n\t{\r\n\t\tconst { value, onChange } = this.props\r\n\r\n\t\t// Call `onChange` only if the `value` did change.\r\n\t\tif (newValue !== value) {\r\n\t\t\tonChange(newValue)\r\n\t\t}\r\n\t}\r\n\r\n\tonBlur = (event) =>\r\n\t{\r\n\t\tclearTimeout(this.blurTimer)\r\n\t\tthis.blurTimer = onBlur(event, this.onFocusOut, () => this.container)\r\n\t}\r\n\r\n\tonFocusOut = (event) =>\r\n\t{\r\n\t\tconst { native, nativeExpanded, onBlur, value } = this.props\r\n\r\n\t\tif (!native && !nativeExpanded) {\r\n\t\t\t// `window.rruiCollapseOnFocusOut` can be used\r\n\t\t\t// for debugging expandable contents.\r\n\t\t\tif (window.rruiCollapseOnFocusOut !== false) {\r\n\t\t\t\tthis.collapse()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// // Collapse the options `<List/>` if it's expanded.\r\n\t\t// if (this.list) {\r\n\t\t// \tthis.list.onBlur(event)\r\n\t\t// }\r\n\r\n\t\tthis._onFocusOut()\r\n\r\n\t\tif (onBlur) {\r\n\t\t\tonBlurForReduxForm(onBlur, event, value)\r\n\t\t}\r\n\t}\r\n\r\n\tonFocusIn    = () => this.setState({ isFocused: true })\r\n\t_onFocusOut = () => this.setState({ isFocused: false })\r\n}\r\n\r\n// There can be an `undefined` value,\r\n// so just `{ value }` won't do here.\r\nfunction getOptionKey(value)\r\n{\r\n\treturn isEmptyValue(value) ? '@@rrui/empty' : value\r\n}\r\n\r\nfunction isEmptyValue(value)\r\n{\r\n\treturn value === null || value === undefined\r\n}"]}